function ode_filip

tspan=[0 10];
x0=[1;0.1;40;0;0;1;0];
[t,x]=ode45(@odefun_case,tspan,x0)

p=x(:,4).*x(:,1);
figure,plot(t,p);

function dx=odefun_case(t,x)
utemp=[0.001625200938660   0.000844161636480
 0.002555414759249   0.001107428970840
 0.017332712219395   0.005507790612979
 0.041163810612573   0.020893538166510
 0.069732482310573   0.039170567876758
 0.154246768798892   0.091321186438522
 0.159707201217302   0.073893786150559
  0.211206049087833   0.037314389266529
 0.467190341895611   0.249871401764841
 0.930892096607158   0.910591045243708];
 
 if t<=1
    u(1)=utemp(1,1);
    u(2)=utemp(1,2);
elseif t<=2
    u(1)=utemp(2,1);
    u(2)=utemp(2,2);
elseif t<=3
    u(1)=utemp(3,1);
    u(2)=utemp(3,2);
elseif t<=4
    u(1)=utemp(4,1);
    u(2)=utemp(4,2);
elseif t<=5
    u(1)=utemp(5,1);
    u(2)=utemp(5,2);
elseif t<=6
    u(1)=utemp(6,1);
    u(2)=utemp(6,2);
elseif t<=7
    u(1)=utemp(7,1);
    u(2)=utemp(7,2);
elseif t<=8
    u(1)=utemp(8,1);
    u(2)=utemp(8,2);
elseif t<=9
    u(1)=utemp(9,1);
    u(2)=utemp(9,2);
else
    u(1)=utemp(10,1);
    u(2)=utemp(10,2);
end
% if t<=1
%     u(1)=0;
%     u(2)=0;
% elseif t<=2
%     u(1)=0;
%     u(2)=0;
% elseif t<=3
%     u(1)=0.01;
%     u(2)=0;
% elseif t<=4
%     u(1)=0.02;
%     u(2)=0;
% elseif t<=5
%     u(1)=0.03;
%     u(2)=0;
% elseif t<=6
%     u(1)=0.08;
%     u(2)=0.02;
% elseif t<=7
%     u(1)=0.1;
%     u(2)=0.03;
% elseif t<=8
%     u(1)=0.17;
%     u(2)=0.04;
% elseif t<=9
%     u(1)=0.36;
%     u(2)=0.18
% else
%     u(1)=0.97;
%     u(2)=1;
% end

ciin = 4;
csin = 100;
mue = (x(3)/(14.35+x(3)+x(3)*x(3)/111.5))*(x(6) + x(7)*0.22/(0.22+x(5)));
pii = (0.233*x(3)/(14.35+x(3)+x(3)*x(3)/111.5))*((0.0005 + x(5))/(0.022 + x(5)));
k1 = 0.09*x(5)/(0.034+x(5));
k2 = 0.09*x(5)/(0.034+x(5));

x_dot1 = u(1) + u(2);
x_dot2 = mue*x(2) - (u(1) + u(2))*x(2)/x(1);
x_dot3 = csin*u(1)/x(1) - (u(1) + u(2))*x(3)/x(1) - mue*x(2)/0.51;
x_dot4 = pii*x(2) - (u(1) + u(2))*x(4)/x(1);
x_dot5 = ciin*u(2)/x(1) - (u(1) + u(2))*x(5)/x(1);
x_dot6 = -x(6)*k1;
x_dot7 = k2*(1- x(7));


dx = [x_dot1; x_dot2; x_dot3; x_dot4; x_dot5; x_dot6; x_dot7];

